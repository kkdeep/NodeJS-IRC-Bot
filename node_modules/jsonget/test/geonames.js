describe('validate jsonget works against geonames services', function() {
    var jsonget = require('../dist/commonjs/jsonget'),
        expect = require('expect.js'),
        searchOpts = {
            q: 'brisbane', 
            maxRows: 10, 
            lang: 'en', 
            username: 'DamonOehlman'
        };

    it('should be able to perform a geonames search', function(done) {
        jsonget('http://api.geonames.org/searchJSON', searchOpts, function(err, data) {
            expect(err).to.not.be.ok();
            
            expect(data).to.be.ok();
            expect(data.totalResultsCount).to.be.above(0);
            
            done(err);
        });
    });
    
    it('should be able to perform a search, with a forced callback param', function(done) {
        jsonget('http://api.geonames.org/searchJSON', searchOpts, { forceCallback: true }, function(err, data) {
            expect(err).to.not.be.ok();
            
            expect(data).to.be.ok();
            expect(data.totalResultsCount).to.be.above(0);
            
            done(err);
        });
    });
});